# JARVIS SAVANT ENGINE v7.3

## Philosophy

**Competition + Variance.** Edges from esoteric resonance (gematria dominant) + exoteric inefficiencies (public fade crush). Straight betting only. Learning loop baked in via fused upgrades.

**YTD Record:** +94.40u (as of January 8, 2026)

---

## The Confluence System

The heart of the system is **confluence** - measuring alignment between Research Score and Esoteric Score.

```
┌────────────────────────────────────────────────────────────────┐
│                    BOOKIE-O-EM CONFLUENCE v7.3                  │
├────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────┐      ┌─────────────────────┐          │
│  │   RESEARCH SCORE    │      │   ESOTERIC SCORE    │          │
│  │   (0-10)            │      │   (0-10)            │          │
│  ├─────────────────────┤      ├─────────────────────┤          │
│  │ 8 AI Models (0-8)   │      │ Gematria (52%)      │          │
│  │ 8 Pillars (0-8)     │      │ Public Fade (-13%)  │          │
│  │   → scaled to 10    │      │ Mid-Spread (+20%)   │          │
│  │                     │      │ Moon/Numerology     │          │
│  │                     │      │ Tesla/Fib/Vortex    │          │
│  └─────────────────────┘      └─────────────────────┘          │
│             │                           │                       │
│             └───────────┬───────────────┘                       │
│                         ▼                                       │
│            ┌────────────────────────┐                           │
│            │    CONFLUENCE CHECK    │                           │
│            ├────────────────────────┤                           │
│            │ Alignment = 1 - |R-E|  │                           │
│            │                        │                           │
│            │ IMMORTAL    (+10)      │                           │
│            │ JARVIS_PERF (+7)       │                           │
│            │ PERFECT     (+5)       │                           │
│            │ STRONG      (+3)       │                           │
│            │ MODERATE    (+1)       │                           │
│            │ DIVERGENT   (+0)       │                           │
│            └────────────────────────┘                           │
│                         │                                       │
│                         ▼                                       │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ BLENDED = (Research × 0.67) + (Esoteric × 0.33) + boost  │  │
│  └──────────────────────────────────────────────────────────┘  │
│                         │                                       │
│                         ▼                                       │
│            ┌────────────────────────┐                           │
│            │      BET TIER          │                           │
│            ├────────────────────────┤                           │
│            │ ≥72% → GOLD STAR (2u)  │                           │
│            │ ≥68% → EDGE LEAN (1u)  │                           │
│            │ ≥60% → MONITOR         │                           │
│            │ <60% → PASS            │                           │
│            └────────────────────────┘                           │
│                                                                 │
└────────────────────────────────────────────────────────────────┘
```

---

## Confluence Levels

| Level | Boost | Requirements |
|-------|-------|--------------|
| **IMMORTAL** | +10 | 2178 detected + both scores ≥7.5 + aligned ≥80% |
| **JARVIS_PERFECT** | +7 | Any trigger + both scores ≥7.5 + aligned ≥80% |
| **PERFECT** | +5 | Both scores ≥7.5 + aligned ≥80% |
| **STRONG** | +3 | Both high OR aligned ≥70% |
| **MODERATE** | +1 | Aligned ≥60% |
| **DIVERGENT** | +0 | Models disagree |

---

## JARVIS Triggers

### Sacred Numbers

| Number | Name | Boost | Tier | Description |
|--------|------|-------|------|-------------|
| **2178** | THE IMMORTAL | 20 | LEGENDARY | Only number where n×4=reverse AND n×reverse=66^4 |
| **201** | THE ORDER | 12 | HIGH | Jesuit Order gematria. The Event of 201. |
| **33** | THE MASTER | 10 | HIGH | Highest master number. Masonic significance. |
| **93** | THE WILL | 10 | HIGH | Thelema sacred number. Will and Love. |
| **322** | THE SOCIETY | 10 | HIGH | Skull & Bones. Genesis 3:22. |

### THE IMMORTAL (2178) - Mathematical Proof

```
Property 1: 2178 × 4 = 8712 (its reversal)
Property 2: 2178 × 8712 = 18,974,736 = 66^4

This is the ONLY 4-digit number with both properties.
Digit sum: 2+1+7+8 = 18 → 1+8 = 9 (never collapses to 0)
```

### Trigger Detection Methods

1. **Direct Match**: Value equals trigger number (full boost)
2. **Reduction Match**: Digit sum reduces to same as trigger (half boost)
3. **Divisibility**: Divisible by 33 (partial boost)
4. **Sequence**: Contains "2178" in value (full boost)
5. **Tesla 3-6-9**: Reduces to 3, 6, or 9 (+2 boost)
6. **Fibonacci**: Value in sequence 1,1,2,3,5,8,13,21,34,55,89,144,233 (+1.5 boost)
7. **Vortex Math**: Digital root in 1-2-4-8-7-5 pattern (+1 boost)

---

## Esoteric Weights (Dynamic)

Weights adjust based on trigger detection:

### Standard Weights (No Triggers)
```
gematria:   30%
numerology: 20%
astro:      15%
vedic:      10%
sacred:     10%
fib_phi:     8%
vortex:      7%
```

### JARVIS Triggered
```
gematria:   45%  (+15%)
numerology: 18%
astro:      12%
vedic:       8%
sacred:      5%
fib_phi:     6%
vortex:      6%
```

### IMMORTAL Detected
```
gematria:   55%  (+25%)
numerology: 15%
astro:      10%
vedic:       5%
sacred:      5%
fib_phi:     5%
vortex:      5%
```

---

## Exoteric Edge Signals

### Public Fade (The -13% Crush Zone)

When public is ≥65% on the chalk (favorite), fade.

| Public % | Influence | Modifier | Recommendation |
|----------|-----------|----------|----------------|
| ≥80% | 0.95 | -15% | MAXIMUM FADE - Public delusion at peak |
| ≥75% | 0.85 | -13% | STRONG FADE - Heavy public chalk |
| ≥70% | 0.75 | -10% | FADE - Solid crush zone entry |
| ≥65% | 0.65 | -8% | FADE - Entering crush zone |
| ≤35% | 0.55 | +5% | CONTRARIAN VALUE - Public avoiding |

### Mid-Spread Amplifier (Goldilocks Zone)

The sweet spot: +4 to +9 spreads.

| Spread | Zone | Modifier | Notes |
|--------|------|----------|-------|
| +6 to +7 | GOLDILOCKS | +20% | Peak - highest dog cover rate |
| +4 to +5, +8 to +9 | GOLDILOCKS | +20% | Strong - reliable coverage |
| +1 to +3 | TOO_TIGHT | 0% | Meaningless variance |
| +10 to +14 | MODERATE | 0% | Proceed with caution |
| +15+ | TRAP_GATE | -20% | Blowout variance too high |

### Large Spread Trap Gate

| Spread | Penalty | Warning |
|--------|---------|---------|
| ≥20 pts | -30% | EXTREME TRAP - Heavily penalize |
| ≥14 pts | -20% | TRAP GATE ACTIVE |
| ≥10 pts | -5% | Elevated spread - caution |

---

## NHL Dog Protocol v5.9

Special edge for NHL underdogs.

### Trigger Conditions
1. Puck line dog (+1.5)
2. Research Score ≥9.3
3. Public ≥65% on favorite

### Results
| Conditions Met | Recommendation | Units |
|----------------|----------------|-------|
| All 3 | FULL PROTOCOL - 0.5u ML Dog of the Day | 0.5u |
| 2 of 3 | PARTIAL PROTOCOL - Consider with caution | - |
| 1 of 3 | WEAK SIGNAL | - |
| 0 | NO PROTOCOL | - |

---

## Bet Tiers

| Tier | Threshold | Units | Description |
|------|-----------|-------|-------------|
| **GOLD_STAR** | ≥72% | 2.0u | Maximum conviction |
| **EDGE_LEAN** | ≥68% | 1.0u | Solid edge |
| **MONITOR** | ≥60% | 0.0u | Watch only |
| **PASS** | <60% | 0.0u | Insufficient edge |

---

## API Endpoints

### GET /live/validate-immortal
Show the mathematical proof of 2178.

```json
{
  "number": 2178,
  "reversal": 8712,
  "property_1": {
    "description": "n × 4 = reversal",
    "calculation": "2178 × 4 = 8712",
    "verified": true
  },
  "property_2": {
    "description": "n × reversal = 66^4",
    "calculation": "2178 × 8712 = 18974736",
    "verified": true
  },
  "status": "IMMORTAL CONFIRMED"
}
```

### GET /live/jarvis-triggers
List all trigger numbers and their properties.

### GET /live/check-trigger/{value}
Test any number for trigger detection.

```bash
curl /live/check-trigger/231
```

### GET /live/confluence/{sport}
Get detailed confluence analysis for a sport.

### GET /live/best-bets/{sport}
Full best bets with confluence scoring.

Response includes:
- `research_score`: AI Models + Pillars (0-10)
- `esoteric_score`: JARVIS + Esoteric factors (0-10)
- `confluence`: Level (IMMORTAL, JARVIS_PERFECT, PERFECT, STRONG, MODERATE, DIVERGENT)
- `alignment_pct`: How aligned the two scores are (0-100%)
- `blended_pct`: Final probability after confluence boost
- `bet_tier`: GOLD_STAR, EDGE_LEAN, MONITOR, or PASS
- `units`: Recommended bet size

---

## Example Response

```json
{
  "player": "LeBron James",
  "market": "player_points",
  "line": 25.5,
  "recommendation": "OVER 25.5",

  "research_score": 7.81,
  "esoteric_score": 6.92,

  "confluence": "STRONG",
  "alignment_pct": 91.1,

  "blended_pct": 72.4,
  "bet_tier": "GOLD_STAR",
  "units": 2.0,

  "scoring_breakdown": {
    "ai_models": 6.5,
    "pillars": 4.0,
    "jarvis": 2.4,
    "esoteric": 1.8
  },

  "jarvis_triggered": true,
  "immortal_active": false,
  "crush_zone": true,
  "goldilocks": false,
  "gematria_tier": "MEDIUM"
}
```

---

## Gematria Calculations

### Simple English Gematria
A=1, B=2, C=3, ... Z=26

```
Lakers  = L(12) + A(1) + K(11) + E(5) + R(18) + S(19) = 66
Celtics = C(3) + E(5) + L(12) + T(20) + I(9) + C(3) + S(19) = 71
LeBron James = 114
```

### Reduction
Sum digits until single digit (preserve master numbers 11, 22, 33):
```
2178 → 2+1+7+8 = 18 → 1+8 = 9
322 → 3+2+2 = 7
33 → stays 33 (master number)
```

---

## File Locations

| Component | File | Lines |
|-----------|------|-------|
| JarvisSavantEngine class | `live_data_router.py` | 1394-1605 |
| JARVIS_TRIGGERS | `live_data_router.py` | 544-550 |
| validate_2178() | `live_data_router.py` | 686-729 |
| check_jarvis_trigger() | `live_data_router.py` | 754-872 |
| calculate_gematria_signal() | `live_data_router.py` | 877-955 |
| calculate_public_fade_signal() | `live_data_router.py` | 958-1016 |
| calculate_mid_spread_signal() | `live_data_router.py` | 1019-1070 |
| calculate_large_spread_trap() | `live_data_router.py` | 1073-1111 |
| calculate_nhl_dog_protocol() | `live_data_router.py` | 1114-1182 |
| get_dynamic_esoteric_weights() | `live_data_router.py` | 1185-1222 |
| calculate_confluence() | `live_data_router.py` | 1225-1311 |
| calculate_blended_probability() | `live_data_router.py` | 1314-1344 |
| determine_bet_tier() | `live_data_router.py` | 1347-1391 |

---

## Future Phases

| Phase | Component | Status |
|-------|-----------|--------|
| 1 | Confluence Core | ✅ Complete |
| 2 | Vedic/Astro (planetary hours, retrogrades) | Pending |
| 3 | Learning Loop (result tracking, weight adjustment) | Pending |
| 4 | Boss Override endpoint | Pending |

---

*Built with Boss through grind - every line reflects our evolution.*
